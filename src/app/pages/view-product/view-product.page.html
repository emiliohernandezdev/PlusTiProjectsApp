<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Plus Technologies</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

    <ion-card>
      <ion-img src="https://www.pngkey.com/png/full/402-4024638_como-o-cliente-customer-contact.png"></ion-img>
        <ion-card-header>
          <ion-card-subtitle>Ingresar nuevo registro</ion-card-subtitle>
          <ion-card-title>Crear cliente</ion-card-title>
        </ion-card-header>

        <ion-avatar (click)="Upload()">
          <img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y">
        </ion-avatar>
      
        <ion-card-content>
            <p text-center>Ingrese los datos del cliente:</p>
            <p text-center><b>Los campos marcados con un asterico (*) son obligatorios</b></p>
            <ion-item>
                <ion-label position="fixed">Nombre *</ion-label>
                <ion-input required [(ngModel)]="client.name" type="text"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label position="fixed">Enlace *</ion-label>
                <ion-input required [(ngModel)]="client.link" type="text"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label>Pais</ion-label>
                <ion-select [(ngModel)]="client.country" [value]="country" okText="Aceptar" cancelText="Cancelar">
                  <ion-select-option *ngFor="let country of countries">{{country.translations.es}}</ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label>Fecha de inicio *</ion-label>
                <ion-datetime [(ngModel)]="client.startDate" displayFormat="DD/MM/YYYY" placeholder="Elija fecha de inicio"></ion-datetime>
            </ion-item>
            <ion-item>
                <ion-label>Fecha de fin</ion-label>
                <ion-datetime [(ngModel)]="client.endDate" displayFormat="DD/MM/YYYY" placeholder="Elija fecha de fin"></ion-datetime>
            </ion-item>
            <br/>
            <ion-list>
                <ion-list-header color="light">
                    <ion-label>Productos del cliente *</ion-label>
                  </ion-list-header>
                  <div>
                      <ion-item *ngIf="products.length < 1 || !products">
                          <ion-icon name="sad" slot="start"></ion-icon>
                          <ion-label>
                            No hay productos
                          </ion-label>
                      </ion-item>
                    
                      <div *ngIf="products.length > 0">
                          <ion-item-sliding *ngFor="let product of products">
                              <ion-item-options side="start">
                                <ion-item-option color="danger" (click)="Remove(product.index)">Quitar</ion-item-option>
                              </ion-item-options>
                          <ion-item>
                              <ion-icon name="basket" slot="start"></ion-icon>
                              <ion-label>
                                {{product.product}}
                              </ion-label>
                          </ion-item>
                        </ion-item-sliding>
                      </div>

                      <ion-item color="success" (click)="adding = !adding">
                          <ion-icon name="add" slot="start"></ion-icon>
                          <ion-label>
                            Agregar producto(s)
                          </ion-label>
                      </ion-item>


                      <ion-grid *ngIf="adding === true">
                          <ion-row align-items-center>
                              <ion-col size="9" size-lg>
                                  <ion-item>
                                      <ion-label position="floating">Producto...</ion-label>
                                      <ion-input [(ngModel)]="productInput" type="text"></ion-input>
                                  </ion-item>
                              </ion-col>
                              <ion-col size="3" size-lg>
                                  <ion-button (click)="Add()">
                                      <ion-icon slot="icon-only" name="add"></ion-icon>
                                  </ion-button>                                    
                              </ion-col>
                            </ion-row>
                      </ion-grid>
                  </div>

            </ion-list>

            <ion-button expand="block" (click)="Save()">
              Guardar
              <ion-icon slot="end" name="save"></ion-icon>
            </ion-button>

        </ion-card-content>
      </ion-card>

</ion-content>
